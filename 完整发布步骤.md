# ğŸ“¦ VSCode æ’ä»¶å®Œæ•´å‘å¸ƒæ­¥éª¤

æœ¬æŒ‡å—å°†ä¸€æ­¥ä¸€æ­¥æŒ‡å¯¼ä½ ä»å¼€å‘åˆ°å‘å¸ƒæ’ä»¶çš„å®Œæ•´æµç¨‹ã€‚

---

## ğŸ“‹ ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡å·¥ä½œ

### 1.1 æ£€æŸ¥ package.json é…ç½®

ç¡®ä¿ `package.json` ä¸­çš„ä»¥ä¸‹å­—æ®µå·²æ­£ç¡®é…ç½®ï¼š

- âœ… `publisher`: å¿…é¡»æ˜¯ä½ åœ¨ Marketplace ä¸­åˆ›å»ºçš„å‘å¸ƒè€…åç§°ï¼ˆä¾‹å¦‚ï¼š`"liyunhua"`ï¼‰
- âœ… `version`: ç‰ˆæœ¬å·ï¼ˆä¾‹å¦‚ï¼š`"0.0.1"`ï¼‰
- âœ… `name`: æ’ä»¶åç§°ï¼ˆä¾‹å¦‚ï¼š`"algorithm-template"`ï¼‰
- âœ… `displayName`: æ˜¾ç¤ºåç§°
- âœ… `description`: æ’ä»¶æè¿°

**é‡è¦**ï¼š`publisher` å¿…é¡»ä¸ Marketplace ä¸­çš„å‘å¸ƒè€…åç§°å®Œå…¨ä¸€è‡´ï¼

### 1.2 ç¡®ä¿ä»£ç å·²ç¼–è¯‘

åœ¨ç»ˆç«¯è¿è¡Œï¼š

```bash
npm run compile
```

å¦‚æœç¼–è¯‘æˆåŠŸï¼Œä¼šç”Ÿæˆ `out/extension.js` æ–‡ä»¶ã€‚

---

## ğŸ“‹ ç¬¬äºŒæ­¥ï¼šåˆ›å»º Personal Access Token

### 2.1 è®¿é—® Azure DevOps

1. **æ‰“å¼€æµè§ˆå™¨**ï¼Œè®¿é—®ï¼š
   ```
   https://dev.azure.com
   ```

2. **ä½¿ç”¨ä½ çš„ Microsoft è´¦å·ç™»å½•**

### 2.2 åˆ›å»º Token

1. **ç‚¹å‡»å³ä¸Šè§’çš„ç”¨æˆ·å¤´åƒ**

2. **é€‰æ‹© "Security" æˆ– "Personal access tokens"**

3. **ç‚¹å‡» "+ New Token" æˆ– "New Token" æŒ‰é’®**

4. **å¡«å†™ Token ä¿¡æ¯**ï¼š
   - **Nameï¼ˆåç§°ï¼‰**: `VSCode Extension Publishing`
   - **Organizationï¼ˆç»„ç»‡ï¼‰**: é€‰æ‹©ä½ çš„ç»„ç»‡
   - **Expirationï¼ˆè¿‡æœŸæ—¶é—´ï¼‰**: é€‰æ‹© `90 days` æˆ– `1 year`

5. **âš ï¸ å…³é”®ï¼šè®¾ç½®æƒé™ï¼ˆScopesï¼‰**ï¼š
   - å±•å¼€ **"Custom defined"**ï¼ˆè‡ªå®šä¹‰å®šä¹‰ï¼‰
   - åœ¨åˆ—è¡¨ä¸­æ‰¾åˆ° **"Marketplace"**
   - âœ… **å‹¾é€‰ "Marketplace"**
   - å±•å¼€ "Marketplace" é€‰é¡¹
   - âœ… **å‹¾é€‰ "Manage"**ï¼ˆè¿™æ˜¯å‘å¸ƒæ’ä»¶å¿…éœ€çš„æƒé™ï¼ï¼‰

6. **ç‚¹å‡» "Create"ï¼ˆåˆ›å»ºï¼‰æŒ‰é’®**

7. **âš ï¸ ç«‹å³å¤åˆ¶ Token**ï¼š
   - Token åªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼
   - å¤åˆ¶æ•´ä¸ª Token å­—ç¬¦ä¸²ï¼ˆå¤§çº¦ 52 ä¸ªå­—ç¬¦ï¼‰
   - ä¿å­˜åˆ°å®‰å…¨çš„åœ°æ–¹ï¼ˆå¦‚è®°äº‹æœ¬ï¼‰

---

## ğŸ“‹ ç¬¬ä¸‰æ­¥ï¼šç™»å½•åˆ° VSCode å¸‚åœº

### 3.1 å®‰è£… vsce å·¥å…·ï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰

åœ¨ç»ˆç«¯è¿è¡Œï¼š

```bash
npm install -g @vscode/vsce
```

### 3.2 ä½¿ç”¨ Token ç™»å½•

åœ¨ç»ˆç«¯è¿è¡Œï¼š

```bash
vsce login liyunhua
```

**æ³¨æ„**ï¼šå°† `liyunhua` æ›¿æ¢ä¸ºä½ åœ¨ `package.json` ä¸­è®¾ç½®çš„ `publisher` åç§°ã€‚

### 3.3 è¾“å…¥ Token

- ç³»ç»Ÿä¼šæç¤ºï¼š`Personal Access Token for publisher 'liyunhua':`
- **ç²˜è´´ä½ åˆšæ‰å¤åˆ¶çš„ Token**
- æŒ‰å›è½¦ç¡®è®¤

### 3.4 éªŒè¯ç™»å½•

è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯æ˜¯å¦ç™»å½•æˆåŠŸï¼š

```bash
vsce ls-publishers
```

å¦‚æœèƒ½çœ‹åˆ°ä½ çš„å‘å¸ƒè€…åˆ—è¡¨ï¼Œè¯´æ˜ç™»å½•æˆåŠŸï¼

---

## ğŸ“‹ ç¬¬å››æ­¥ï¼šæ‰“åŒ…æ’ä»¶

### 4.1 ç¡®ä¿ä»£ç å·²ç¼–è¯‘

```bash
npm run compile
```

### 4.2 æ‰“åŒ…æ’ä»¶

```bash
vsce package
```

### 4.3 æ£€æŸ¥æ‰“åŒ…ç»“æœ

- å¦‚æœæˆåŠŸï¼Œä¼šç”Ÿæˆä¸€ä¸ª `.vsix` æ–‡ä»¶
- æ–‡ä»¶åç±»ä¼¼ï¼š`algorithm-template-0.0.1.vsix`
- åŒæ—¶ä¼šæ˜¾ç¤ºæ‰“åŒ…çš„æ–‡ä»¶åˆ—è¡¨

**å¦‚æœå‡ºç°é”™è¯¯**ï¼š
- æ£€æŸ¥ `package.json` é…ç½®æ˜¯å¦æ­£ç¡®
- ç¡®ä¿æ‰€æœ‰å¿…éœ€çš„æ–‡ä»¶éƒ½å­˜åœ¨
- ç¡®ä¿ä»£ç å·²ç¼–è¯‘ï¼ˆ`out/extension.js` å­˜åœ¨ï¼‰

---

## ğŸ“‹ ç¬¬äº”æ­¥ï¼šå‘å¸ƒæ’ä»¶åˆ°å¸‚åœº

### 5.1 å‘å¸ƒæ’ä»¶

åœ¨ç»ˆç«¯è¿è¡Œï¼š

```bash
vsce publish
```

### 5.2 ç­‰å¾…å‘å¸ƒå®Œæˆ

- å‘å¸ƒè¿‡ç¨‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿ
- ä½ ä¼šçœ‹åˆ°ä¸Šä¼ è¿›åº¦
- å¦‚æœæˆåŠŸï¼Œä¼šæ˜¾ç¤ºç±»ä¼¼æ¶ˆæ¯ï¼š
  ```
  Published liyunhua.algorithm-template v0.0.1
  ```

### 5.3 è®¿é—®æ’ä»¶é¡µé¢

å‘å¸ƒæˆåŠŸåï¼Œä½ çš„æ’ä»¶ä¼šåœ¨ä»¥ä¸‹åœ°å€å¯è§ï¼š
```
https://marketplace.visualstudio.com/items?itemName=liyunhua.algorithm-template
```

**æ³¨æ„**ï¼šå¯èƒ½éœ€è¦ç­‰å¾…å‡ åˆ†é’Ÿæ‰èƒ½åœ¨å¸‚åœºä¸­æœç´¢åˆ°ã€‚

---

## ğŸ“‹ ç¬¬å…­æ­¥ï¼šä»å¸‚åœºå®‰è£…æ’ä»¶

### 6.1 åœ¨ VSCode ä¸­å®‰è£…

1. **æ‰“å¼€ VSCode**

2. **æ‰“å¼€æ‰©å±•å¸‚åœº**ï¼š
   - ç‚¹å‡»å·¦ä¾§è¾¹æ çš„**æ‰©å±•å›¾æ ‡**ï¼ˆå››ä¸ªæ–¹å—ï¼‰
   - æˆ–æŒ‰ `Ctrl + Shift + X`

3. **æœç´¢æ’ä»¶**ï¼š
   - åœ¨æœç´¢æ¡†ä¸­è¾“å…¥ï¼š`Algorithm Template`
   - æˆ–è¾“å…¥ä½ çš„å‘å¸ƒè€…åç§°ï¼š`liyunhua`

4. **å®‰è£…æ’ä»¶**ï¼š
   - æ‰¾åˆ°ä½ çš„æ’ä»¶
   - ç‚¹å‡»**"å®‰è£…"**æŒ‰é’®

5. **é‡æ–°åŠ è½½ VSCode**ï¼š
   - å®‰è£…å®Œæˆåï¼Œå¯èƒ½éœ€è¦é‡æ–°åŠ è½½
   - ç‚¹å‡»æç¤ºä¸­çš„"é‡æ–°åŠ è½½"æŒ‰é’®

### 6.2 æµ‹è¯•æ’ä»¶

1. **åˆ›å»ºä¸€ä¸ª Go æ–‡ä»¶**ï¼ˆä¾‹å¦‚ `test.go`ï¼‰

2. **è¾“å…¥**ï¼š`// abs`

3. **æŒ‰ç©ºæ ¼é”®æˆ– Tab é”®**

4. **åº”è¯¥ä¼šè‡ªåŠ¨æ’å…¥ abs å‡½æ•°æ¨¡æ¿**

---

## ğŸ”„ æ›´æ–°æ’ä»¶ç‰ˆæœ¬

å½“ä½ éœ€è¦æ›´æ–°æ’ä»¶æ—¶ï¼š

### 1. æ›´æ–°ç‰ˆæœ¬å·

åœ¨ `package.json` ä¸­ä¿®æ”¹ `version` å­—æ®µï¼š
```json
"version": "0.0.2"
```

### 2. é‡æ–°ç¼–è¯‘

```bash
npm run compile
```

### 3. é‡æ–°å‘å¸ƒ

```bash
vsce publish
```

---

## â“ å¸¸è§é—®é¢˜è§£å†³

### Q1: æ‰“åŒ…æ—¶æç¤ºæ‰¾ä¸åˆ°æ–‡ä»¶

**è§£å†³æ–¹æ³•**ï¼š
- ç¡®ä¿è¿è¡Œäº† `npm run compile`
- æ£€æŸ¥ `out/extension.js` æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- æ£€æŸ¥ `package.json` ä¸­çš„ `main` å­—æ®µæ˜¯å¦æ­£ç¡®

### Q2: å‘å¸ƒæ—¶å‡ºç° 401 é”™è¯¯

**åŸå› **ï¼šToken æ— æ•ˆæˆ–ç¼ºå°‘æƒé™

**è§£å†³æ–¹æ³•**ï¼š
1. æ£€æŸ¥ Token æ˜¯å¦è¿‡æœŸ
2. ç¡®ä¿ Token æœ‰ "Marketplace - Manage" æƒé™
3. é‡æ–°åˆ›å»º Token å¹¶ç™»å½•ï¼š
   ```bash
   vsce login liyunhua
   ```

### Q3: å‘å¸ƒæ—¶æç¤º publisher ä¸å­˜åœ¨

**è§£å†³æ–¹æ³•**ï¼š
1. è®¿é—®ï¼šhttps://marketplace.visualstudio.com/manage
2. åˆ›å»ºå‘å¸ƒè€…ï¼ŒPublisher ID å¿…é¡»ä¸ `package.json` ä¸­çš„ `publisher` å®Œå…¨ä¸€è‡´
3. ç¡®ä¿ `package.json` ä¸­çš„ `publisher` å­—æ®µæ­£ç¡®

### Q4: æ‰“åŒ…æ—¶åŒ…å«ä¸éœ€è¦çš„æ–‡ä»¶

**è§£å†³æ–¹æ³•**ï¼š
- æ£€æŸ¥ `.vscodeignore` æ–‡ä»¶
- ç¡®ä¿ä¸éœ€è¦çš„æ–‡ä»¶ï¼ˆå¦‚ `.md` æ–‡æ¡£ï¼‰å·²æ·»åŠ åˆ°å¿½ç•¥åˆ—è¡¨

---

## ğŸ“ å®Œæ•´å‘½ä»¤æ¸…å•

```bash
# 1. ç¼–è¯‘ä»£ç 
npm run compile

# 2. æ‰“åŒ…æ’ä»¶
vsce package

# 3. ç™»å½•ï¼ˆé¦–æ¬¡éœ€è¦ï¼‰
vsce login liyunhua

# 4. éªŒè¯ç™»å½•
vsce ls-publishers

# 5. å‘å¸ƒæ’ä»¶
vsce publish
```

---

## âœ… å‘å¸ƒæ£€æŸ¥æ¸…å•

åœ¨å‘å¸ƒå‰ï¼Œç¡®ä¿ï¼š

- [ ] `package.json` ä¸­çš„ `publisher` ä¸ Marketplace ä¸­çš„å‘å¸ƒè€…åç§°ä¸€è‡´
- [ ] `package.json` ä¸­çš„ `version` å·²æ›´æ–°
- [ ] ä»£ç å·²ç¼–è¯‘ï¼ˆ`npm run compile` æˆåŠŸï¼‰
- [ ] Personal Access Token å·²åˆ›å»ºï¼Œä¸”æœ‰ "Marketplace - Manage" æƒé™
- [ ] å·²ä½¿ç”¨ Token ç™»å½•ï¼ˆ`vsce login` æˆåŠŸï¼‰
- [ ] æ‰“åŒ…æˆåŠŸï¼ˆ`vsce package` ç”Ÿæˆ `.vsix` æ–‡ä»¶ï¼‰
- [ ] å‘å¸ƒæˆåŠŸï¼ˆ`vsce publish` æ— é”™è¯¯ï¼‰

---

## ğŸ‰ å®Œæˆï¼

å¦‚æœæ‰€æœ‰æ­¥éª¤éƒ½æˆåŠŸå®Œæˆï¼Œä½ çš„æ’ä»¶å°±å·²ç»å‘å¸ƒåˆ° VSCode å¸‚åœºäº†ï¼

ç°åœ¨ä½ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å®‰è£…å’Œä½¿ç”¨è¿™ä¸ªæ’ä»¶ã€‚

---

## ğŸ“š ç›¸å…³èµ„æº

- VSCode æ‰©å±•å¸‚åœºï¼šhttps://marketplace.visualstudio.com
- vsce å·¥å…·æ–‡æ¡£ï¼šhttps://github.com/microsoft/vscode-vsce
- Azure DevOpsï¼šhttps://dev.azure.com

